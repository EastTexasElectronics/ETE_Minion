const subscribers = {};

function subscribe(eventName, callback) {
  if (!subscribers[eventName]) {
    subscribers[eventName] = new Set();
  }

  subscribers[eventName].add(callback);

  return function unsubscribe() {
    subscribers[eventName].delete(callback);
  };
}

function publish(eventName, data) {
  subscribers[eventName]?.forEach(callback => {
    callback(data);
  });
}