/*
Generated time: September 29, 2023 16:34
This file was created by the app developer. Feel free to contact the original developer with any questions. It was minified (compressed) by AVADA. AVADA do NOT own this script.
*/
class recordRecentlyViewedProducts extends HTMLElement{constructor(){super(),this.name="minion_recently_viewed",this.recordRecentlyViewed()}config(){return{howManyToStoreInMemory:Number(this.getAttribute("data-count"))+1,settings:this.getAttribute("data-settings")}}setCookie(e,t,n){var r,o="";n&&((r=new Date).setTime(r.getTime()+24*n*60*60*1e3),o="; expires="+r.toUTCString()),document.cookie=e+"="+(t||"")+o+"; path=/"}getCookie(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var o=n[r];" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(t))return o.substring(t.length,o.length).split(" ")}return[]}recordRecentlyViewed(){var e,t,n=this.config(),r=this.getCookie(this.name);-1!==window.location.pathname.indexOf("/products/")&&(e=document.querySelector("[data-product-handle]").getAttribute("data-product-handle"),(t=-1)===(t=r?r.indexOf(e):t)?(r.unshift(e),r=r.splice(0,n.howManyToStoreInMemory)):(r.splice(t,1),r.unshift(e)),this.setCookie(this.name,r.join(" "),1))}}class recentlyViewedProducts extends recordRecentlyViewedProducts{constructor(){super();var e,t=this.getCookie(this.name);t.length<=1||(-1!==window.location.pathname.indexOf("/products/")&&(e=document.querySelector("[data-product-handle]").getAttribute("data-product-handle"),-1!==(e=t.indexOf(e)))&&t.splice(e,1),t=t.join("||"),this.getProducts(t))}getProducts(e){var n=this;fetch(window.shopUrl+`/collections/all?view=ajax_recently_viewed&constraint=${e}||`+this.config().settings).then(e=>e.text()).then(e=>{n.classList.remove("hide");var t=n.querySelector(".recently-viewed-products-content").innerHTML;n.querySelector(".recently-viewed-products-content").innerHTML=t+e})}}customElements.define("recently-viewed-products",recentlyViewedProducts),document.querySelector("recently-viewed-products")||customElements.define("recently-viewed-products-record",recordRecentlyViewedProducts);